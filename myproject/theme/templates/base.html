<!doctype html>
<html>
<head>
  {% load static tailwind_tags %}
  {% tailwind_css %}
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Restaurant Analytics{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    @keyframes fadeInUp { from {opacity:0; transform: translateY(30px)} to {opacity:1; transform: translateY(0)} }
    @keyframes scaleIn { from {opacity:0; transform: scale(.96)} to {opacity:1; transform: scale(1)} }
    @keyframes slideDown { from {opacity:0; transform: translateY(-10px)} to {opacity:1; transform: translateY(0)} }
    .fade-in-up { animation: fadeInUp .6s ease-out both; }
    .scale-in { animation: scaleIn .5s ease-out both; }
    .slide-down { animation: slideDown .4s ease-out both; }
    .card-hover { transition: all .3s cubic-bezier(.4,0,.2,1) }
    .card-hover:hover { transform: translateY(-4px) scale(1.01); box-shadow: 0 20px 40px rgba(0,0,0,.08) }
    .gradient-bg { background: linear-gradient(135deg,#667eea 0%,#764ba2 100%) }
    .gradient-text {
      background: linear-gradient(135deg,#667eea 0%,#764ba2 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
    }
    .glass-effect {
      backdrop-filter: blur(10px);
      background: rgba(255,255,255,.96);
      border: 1px solid rgba(255,255,255,.2);
      box-shadow: 0 8px 32px rgba(102,126,234,.1);
    }
    .glass-nav {
      backdrop-filter: blur(16px);
      background: rgba(255,255,255,.92);
      border-bottom: 1px solid rgba(102,126,234,.1);
    }
    /* Scrollbar */
    ::-webkit-scrollbar{width:8px;height:8px}
    ::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:10px}
    ::-webkit-scrollbar-track{background:rgba(0,0,0,.05)}
  </style>
</head>
<body class="min-h-screen">

  <!-- พื้นหลังไล่สี -->
  <div class="fixed inset-0 bg-gradient-to-br from-purple-50 via-white to-pink-50 -z-10"></div>

  <!-- Navigation -->
  <nav class="glass-nav sticky top-0 z-50 slide-down">
    <div class="max-w-6xl mx-auto p-4 flex items-center justify-between">
      <a href="/dashboard/" class="font-bold text-lg gradient-text hover:opacity-80 transition">
        Restaurant Analytics
      </a>
      <div class="flex items-center gap-3">
        <a href="/upload/"
           class="px-4 py-2 rounded-xl gradient-bg text-white text-sm font-medium hover:shadow-lg transition-all duration-300 hover:scale-105">
          อัปโหลด CSV
        </a>
        {% if request.user.is_authenticated %}
          <a href="/logout/"
             class="text-sm text-gray-600 hover:text-purple-600 transition-colors px-3 py-2 rounded-lg hover:bg-purple-50">
            ออกจากระบบ
          </a>
        {% endif %}
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="max-w-6xl mx-auto p-6 fade-in-up">
    {% block content %}{% endblock %}
  </main>

  {% block page_js %}{% endblock %}
</body>
</html>
